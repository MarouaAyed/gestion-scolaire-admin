
<div class="panel-header panel-header-sm"></div>

<div class="main-content">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
          <div>
            <h5 class="title">Écoles</h5>
            <p class="category"> Résultats : {{ecoles.length}} Ecoles.</p>          </div>
        </div>  
                    
        


                    <div class="card-body">
          
                      <div class="table-responsive">
                        <table class="table table-striped table-hover">
                          <thead class=" text-primary">
                            <th class="text-center">
                              CODE
                            </th>


                            <th class="text-center">
                              NOM ECOLE
                            </th>

                            <th class="text-center">
                              ADRESSE
                            </th>
                            <th class="text-center">
                              
                              TELEPHONE 
                            </th>
                            
                            <th class="text-center">
                              DIRECTEUR
                            </th>
                            
            
                            
                              
                                <th class="text-center">
                                  NUMERO ECOLE 
                                  </th>
                                  
                                    <th class="text-center">
                                      NOMBRE JOURS ROTATION 
                                      
                                      </th>
                                      <th class="text-center">
                                        VILLE
                                        </th>
                                        <th class="text-center">
                                          ACTION
                                          </th>
                          </thead>
            
            
                          <tbody>
                            
                            
                            
            
            
            
                            
            
                              <tr *ngFor="let ecole of ecoles">
                                <td>
                                  {{ecole.code}}
                                </td>
                                <td>
                                  {{ecole.nomEcole}}
                                </td>
                                <td>
                                  {{ecole.adresse}}
                                </td>
                                <td>
                                  {{ecole.telephone}}
                                </td>
                                <td>
                                  {{ecole.directeur}}
                                </td>
                                <td>
                                  {{ecole.numeroEcole}}
                                </td>
                                <td>
                                  {{ecole.nombreJoursRotastion}}
                                </td>
                                <td class="text-center">
                                  {{ecole.nom}}
                                </td>

                                <td class="text-center">
                                  <div class="btn-group">
                                    <button type="button" class="btn btn-dark" (click)="updateEcole(ecole.id)">Modifier</button>
                                    <button type="button" class="btn btn-danger" (click)="deleteEcole(ecole.id)">Supprimer</button>
                                  </div>
                                </td>
                                
                               
                              </tr>
                           
                            
                          </tbody>
                        </table>
                      </div>
                    </div>
                  
            







                    <div class="col-md-12">
                      <div class="card">
                        <div class="card-header">
                            <h4 class="card-title"> Ajouter ecole</h4>
                            
                          </div>

        

        <div class="card-body">
          <form (ngSubmit)="insertEcole()">
            <div class="row">
              <div class="col-md-3 pr-1">
                <div class="form-group">
                  <label>Nom Ecole</label>
                  <input type="text" class="form-control" [(ngModel)]="ecole.nomEcole" name="nomEcole" required>
                </div>
              </div>

              <div class="col-md-4 pr-1">
                <div class="form-group">
                  <label>Adresse</label>
                  <input type="text" class="form-control" [(ngModel)]="ecole.adresse" name="adresse" required>
                </div>
              </div>

              <div class="col-md-3 pr-1">
                <div class="form-group">
                  <label>téléphone</label>
                  <!--<input type="tel" class="form-control" name="téléphone" required>-->
                  <input type="tel" pattern="[0-9]{10}" class="form-control" [(ngModel)]="ecole.telephone" name="telephone" placeholder="xx xx xx xx" />
                            <div class="error"></div>  
                </div>
              </div>

              <div class="col-md-3 pr-1">
                <div class="form-group">
                  <label>Nom Directeur</label>
                  <input type="text" class="form-control" [(ngModel)]="ecole.directeur" name="directeur" required>
                </div>
              </div>

              <div class="col-md-4 pr-1">
                <div class="form-group">
                  <label> site Web</label>
                  <input type="url" class="form-control" [(ngModel)]="ecole.siteweb" name="siteweb"  required>
                </div>
              </div>

              <div class="col-md-3 pr-1">
                <div class="form-group">
                    <label> nom Court</label>
                    <input type="text" class="form-control" [(ngModel)]="ecole.nomCourt" name="nomCourt" required>
                  </div>
              </div>
              <br>

              <div class="col-md-3 pr-1">
                <div class="form-group">
                  <label>Numéro Ecole</label>
                  <input type="number" class="form-control" [(ngModel)]="ecole.numeroEcole" name="numeroEcole" required>
                </div>
              </div>

              <!--
              <div class="col-md-5 pr-1">
                <div class="form-group">
                  <label>Ville</label>
                  <select class="form-control" name="id_ville" required *ngFor >
                    <option value="list.id">list.nom</option>
                   
                  </select>
                </div>
              </div>-->

              <div class="col-md-3 pr-1">
                <div class="form-group">
                  <label>Ville</label>
                

                  <select [(ngModel)]="ecole.id_ville" name="id_ville" class="form-control">
                    <option *ngFor="let ville of villes" [value]="ville.id">
                      {{ ville.nom }}
                    </option>
                  </select>
                </div>
              </div>
              

              <div class="col-md-2 pr-1">
                <div class="form-group">
                  <label>Base Echelle Notation</label>
                  <input type="number" class="form-control" [(ngModel)]="ecole.baseEchelleNotation" name="baseEchelleNotation" required>
                </div>
              </div>

              <div class="col-md-2 pr-1">
                <div class="form-group">
                    <label>Nombe Jours Rotation</label>
                    <input type="number" class="form-control" [(ngModel)]="ecole.nombreJoursRotation" name="nombreJoursRotation" required>
                  </div>
              </div>
            </div>
            <button type="submit" class="btn btn-primary">Ajouter</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

